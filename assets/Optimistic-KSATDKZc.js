import{s as c,c as i,d as u,e as d,aw as n,j as s,aP as f,ax as l,ao as h}from"./index-Dxo2bz0P.js";async function y(){return c(async()=>fetch("https://lorem-backend-6ggh.onrender.com/api/auth/refresh",{method:"GET",credentials:"include"}))()}function E(){const e=i(),r=n.fetch.privilegeEnabled,{data:a,isLoading:o,error:t}=u({queryKey:["GET /refresh"],queryFn:async()=>y(),staleTime:n.auth.accessTime,retry:!1,enabled:r});return d(t,a,()=>{switch(t.status){case 500:e.serverError();break;case 429:e.tooMany();break;case 0:e.networkError()}}),{elevated:!!a,isLoading:o}}function p({redirect:e="/home"}){const{elevated:r,isLoading:a}=E();return a?s.jsx(f,{}):r?s.jsx(l,{to:e}):s.jsx(h,{})}export{p as default};
