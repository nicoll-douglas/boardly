import{z as i,t as c,A as u,D as l,aw as n,j as t,aP as d,ax as f,ao as h}from"./index-CfX38i0E.js";async function y(){return i(async()=>fetch("https://demo.boardly.nicolldouglas.dev/api/auth/refresh",{method:"GET",credentials:"include"}))()}function E(){const e=c(),a=n.fetch.privilegeEnabled,{data:s,isLoading:o,error:r}=u({queryKey:["GET /refresh"],queryFn:async()=>y(),staleTime:n.auth.accessTime,retry:!1,enabled:a});return l(r,s,()=>{switch(r.status){case 500:e.serverError();break;case 429:e.tooMany();break;case 0:e.networkError()}}),{elevated:!!s,isLoading:o}}function p({redirect:e="/home"}){const{elevated:a,isLoading:s}=E();return s?t.jsx(d,{}):a?t.jsx(f,{to:e}):t.jsx(h,{})}export{p as default};
