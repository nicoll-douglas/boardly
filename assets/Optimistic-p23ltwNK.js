import{z as c,t as i,A as u,D as d,aw as n,j as t,aP as f,ax as l,ao as h}from"./index-BGfUVu-S.js";async function y(){return c(async()=>fetch("https://lorem-backend-6ggh.onrender.com/api/auth/refresh",{method:"GET",credentials:"include"}))()}function E(){const e=i(),r=n.fetch.privilegeEnabled,{data:a,isLoading:o,error:s}=u({queryKey:["GET /refresh"],queryFn:async()=>y(),staleTime:n.auth.accessTime,retry:!1,enabled:r});return d(s,a,()=>{switch(s.status){case 500:e.serverError();break;case 429:e.tooMany();break;case 0:e.networkError()}}),{elevated:!!a,isLoading:o}}function p({redirect:e="/home"}){const{elevated:r,isLoading:a}=E();return a?t.jsx(f,{}):r?t.jsx(l,{to:e}):t.jsx(h,{})}export{p as default};
