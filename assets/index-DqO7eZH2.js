import{r as u,u as ye,c as oe,a as se,m as Z,d as ge,b as J,e as be,o as Me,f as ke,j as r,g as Ce,h as F,i as D,k as R,l as Ee,n as je,p as we,B as N,q as Ie,s as _e,t as Le,I as De,L as X,C as Se,H as Pe,v as Fe,w as Y,V as Oe,x as Te,T as ee,F as Ae,y as Re}from"./index-CfX38i0E.js";import{F as Ne}from"./FormModal-C1R4AyCJ.js";import{L as Be}from"./LoginForm-C6b4zhnO.js";import{R as ze}from"./RegisterForm-Bt3HZbgM.js";import{T as He}from"./index-Cyr3DeA0.js";import{u as Ke}from"./useSubmitHandlers-Cwbi2rXh.js";import{u as Ue}from"./chunk-AXLEE3EK-Df1Awhc_.js";import{c as We}from"./chunk-OCNORRQU-swZaVUWU.js";import{u as $e,a as Ve,b as qe,c as Je}from"./index-D5CZ-aoS.js";import{l as Ge}from"./index-DLVTVQVU.js";import{u as Ze}from"./chunk-7JBTTEVG-DxtWywDM.js";import{S as Qe}from"./chunk-BL2ZZSHG-B7ncdinR.js";import{L as Xe}from"./chunk-K7XRJ7NL-o9yVDeel.js";import"./chunk-4FCEGNGT-B-jdCA2V.js";import"./chunk-7254PCTD-Dpa5zOsZ.js";import"./chunk-OFOVX77R-zSbCe2qK.js";import"./chunk-W7WUSNWJ-RwjSrdRn.js";import"./index.esm-7bvCp7Uk.js";import"./helperText-BjkVZXYi.js";import"./index-CAYa1ODE.js";function Ye(e){const{key:n}=e;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function en(e={}){const{timeout:n=300,preventDefault:t=()=>!0}=e,[s,o]=u.useState([]),a=u.useRef(),i=()=>{a.current&&(clearTimeout(a.current),a.current=null)},l=()=>{i(),a.current=setTimeout(()=>{o([]),a.current=null},n)};u.useEffect(()=>i,[]);function m(f){return c=>{if(c.key==="Backspace"){const d=[...s];d.pop(),o(d);return}if(Ye(c)){const d=s.concat(c.key);t(c)&&(c.preventDefault(),c.stopPropagation()),o(d),f(d.join("")),l()}}}return m}function nn(e,n,t,s){if(n==null)return s;if(!s)return e.find(i=>t(i).toLowerCase().startsWith(n.toLowerCase()));const o=e.filter(a=>t(a).toLowerCase().startsWith(n.toLowerCase()));if(o.length>0){let a;return o.includes(s)?(a=o.indexOf(s)+1,a===o.length&&(a=0),o[a]):(a=e.indexOf(o[0]),e[a])}return s}function tn(e){const{ref:n,handler:t,enabled:s=!0}=e,o=ye(t),i=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;u.useEffect(()=>{if(!s)return;const l=d=>{q(d,n)&&(i.isPointerDown=!0)},m=d=>{if(i.ignoreEmulatedMouseEvents){i.ignoreEmulatedMouseEvents=!1;return}i.isPointerDown&&t&&q(d,n)&&(i.isPointerDown=!1,o(d))},f=d=>{i.ignoreEmulatedMouseEvents=!0,t&&i.isPointerDown&&q(d,n)&&(i.isPointerDown=!1,o(d))},c=re(n.current);return c.addEventListener("mousedown",l,!0),c.addEventListener("mouseup",m,!0),c.addEventListener("touchstart",l,!0),c.addEventListener("touchend",f,!0),()=>{c.removeEventListener("mousedown",l,!0),c.removeEventListener("mouseup",m,!0),c.removeEventListener("touchstart",l,!0),c.removeEventListener("touchend",f,!0)}},[t,n,o,i,s])}function q(e,n){var t;const s=e.target;return s&&!re(s).contains(s)?!1:!((t=n.current)!=null&&t.contains(s))}function re(e){var n;return(n=e==null?void 0:e.ownerDocument)!=null?n:document}var[on,sn,rn,an]=We(),[un,B]=oe({strict:!1,name:"MenuContext"});function cn(e,...n){const t=u.useId(),s=e||t;return u.useMemo(()=>n.map(o=>`${o}-${s}`),[s,n])}function ae(e){var n;return(n=e==null?void 0:e.ownerDocument)!=null?n:document}function ne(e){return ae(e).activeElement===e}function ln(e={}){const{id:n,closeOnSelect:t=!0,closeOnBlur:s=!0,initialFocusRef:o,autoSelect:a=!0,isLazy:i,isOpen:l,defaultIsOpen:m,onClose:f,onOpen:c,placement:d="bottom-start",lazyBehavior:C="unmount",direction:v,computePositionOnMount:O=!1,..._}=e,E=u.useRef(null),p=u.useRef(null),j=rn(),L=u.useCallback(()=>{requestAnimationFrame(()=>{var b;(b=E.current)==null||b.focus({preventScroll:!1})})},[]),y=u.useCallback(()=>{const b=setTimeout(()=>{var k;if(o)(k=o.current)==null||k.focus();else{const W=j.firstEnabled();W&&P(W.index)}});V.current.add(b)},[j,o]),w=u.useCallback(()=>{const b=setTimeout(()=>{const k=j.lastEnabled();k&&P(k.index)});V.current.add(b)},[j]),M=u.useCallback(()=>{c==null||c(),a?y():L()},[a,y,L,c]),{isOpen:x,onOpen:g,onClose:I,onToggle:S}=$e({isOpen:l,defaultIsOpen:m,onClose:f,onOpen:M});tn({enabled:x&&s,ref:E,handler:b=>{var k;(k=p.current)!=null&&k.contains(b.target)||I()}});const H=Ve({..._,enabled:x||O,placement:d,direction:v}),[T,P]=u.useState(-1);se(()=>{x||P(-1)},[x]),qe(E,{focusRef:p,visible:x,shouldFocus:!0});const A=Je({isOpen:x,ref:E}),[K,U]=cn(n,"menu-button","menu-list"),h=u.useCallback(()=>{g(),L()},[g,L]),V=u.useRef(new Set([]));u.useEffect(()=>{const b=V.current;return()=>{b.forEach(k=>clearTimeout(k)),b.clear()}},[]);const fe=u.useCallback(()=>{g(),y()},[y,g]),pe=u.useCallback(()=>{g(),w()},[g,w]),xe=u.useCallback(()=>{var b,k;const W=ae(E.current),ve=(b=E.current)==null?void 0:b.contains(W.activeElement);if(!(x&&!ve))return;const Q=(k=j.item(T))==null?void 0:k.node;Q==null||Q.focus({preventScroll:!0})},[x,T,j]),he=u.useRef(null);return{openAndFocusMenu:h,openAndFocusFirstItem:fe,openAndFocusLastItem:pe,onTransitionEnd:xe,unstable__animationState:A,descendants:j,popper:H,buttonId:K,menuId:U,forceUpdate:H.forceUpdate,orientation:"vertical",isOpen:x,onToggle:S,onOpen:g,onClose:I,menuRef:E,buttonRef:p,focusedIndex:T,closeOnSelect:t,closeOnBlur:s,autoSelect:a,setFocusedIndex:P,isLazy:i,lazyBehavior:C,initialFocusRef:o,rafId:he}}function dn(e={},n=null){const t=B(),{onToggle:s,popper:o,openAndFocusFirstItem:a,openAndFocusLastItem:i}=t,l=u.useCallback(m=>{const f=m.key,d={Enter:a,ArrowDown:a,ArrowUp:i}[f];d&&(m.preventDefault(),m.stopPropagation(),d(m))},[a,i]);return{...e,ref:Z(t.buttonRef,n,o.referenceRef),id:t.buttonId,"data-active":ge(t.isOpen),"aria-expanded":t.isOpen,"aria-haspopup":"menu","aria-controls":t.menuId,onClick:J(e.onClick,s),onKeyDown:J(e.onKeyDown,l)}}function G(e){var n;return xn(e)&&!!((n=e==null?void 0:e.getAttribute("role"))!=null&&n.startsWith("menuitem"))}function mn(e={},n=null){const t=B();if(!t)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:o,menuRef:a,isOpen:i,onClose:l,menuId:m,isLazy:f,lazyBehavior:c,unstable__animationState:d}=t,C=sn(),v=en({preventDefault:p=>p.key!==" "&&G(p.target)}),O=u.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const j=p.key,y={Tab:M=>M.preventDefault(),Escape:l,ArrowDown:()=>{const M=C.nextEnabled(s);M&&o(M.index)},ArrowUp:()=>{const M=C.prevEnabled(s);M&&o(M.index)}}[j];if(y){p.preventDefault(),y(p);return}const w=v(M=>{const x=nn(C.values(),M,g=>{var I,S;return(S=(I=g==null?void 0:g.node)==null?void 0:I.textContent)!=null?S:""},C.item(s));if(x){const g=C.indexOf(x.node);o(g)}});G(p.target)&&w(p)},[C,s,v,l,o]),_=u.useRef(!1);i&&(_.current=!0);const E=Ge({wasSelected:_.current,enabled:f,mode:c,isSelected:d.present});return{...e,ref:Z(a,n),children:E?e.children:null,tabIndex:-1,role:"menu",id:m,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:J(e.onKeyDown,O)}}function fn(e={}){const{popper:n,isOpen:t}=B();return n.getPopperProps({...e,style:{visibility:t?"visible":"hidden",...e.style}})}function pn(e={},n=null){const{onMouseEnter:t,onMouseMove:s,onMouseLeave:o,onClick:a,onFocus:i,isDisabled:l,isFocusable:m,closeOnSelect:f,type:c,...d}=e,C=B(),{setFocusedIndex:v,focusedIndex:O,closeOnSelect:_,onClose:E,menuRef:p,isOpen:j,menuId:L,rafId:y}=C,w=u.useRef(null),M=`${L}-menuitem-${u.useId()}`,{index:x,register:g}=an({disabled:l&&!m}),I=u.useCallback(h=>{t==null||t(h),!l&&v(x)},[v,x,l,t]),S=u.useCallback(h=>{s==null||s(h),w.current&&!ne(w.current)&&I(h)},[I,s]),H=u.useCallback(h=>{o==null||o(h),!l&&v(-1)},[v,l,o]),T=u.useCallback(h=>{a==null||a(h),G(h.currentTarget)&&(f??_)&&E()},[E,a,_,f]),P=u.useCallback(h=>{i==null||i(h),v(x)},[v,i,x]),A=x===O,K=l&&!m;se(()=>{if(j)return A&&!K&&w.current?(y.current&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(()=>{var h;(h=w.current)==null||h.focus({preventScroll:!0}),y.current=null})):p.current&&!ne(p.current)&&p.current.focus({preventScroll:!0}),()=>{y.current&&cancelAnimationFrame(y.current)}},[A,K,p,j]);const U=Ue({onClick:T,onFocus:P,onMouseEnter:I,onMouseMove:S,onMouseLeave:H,ref:Z(g,w,n),isDisabled:l,isFocusable:m});return{...d,...U,type:c??U.type,id:M,role:"menuitem",tabIndex:A?0:-1}}function xn(e){var n;if(!hn(e))return!1;const t=(n=e.ownerDocument.defaultView)!=null?n:window;return e instanceof t.HTMLElement}function hn(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[vn,z]=oe({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),ie=e=>{const{children:n}=e,t=be("Menu",e),s=Me(e),{direction:o}=ke(),{descendants:a,...i}=ln({...s,direction:o}),l=u.useMemo(()=>i,[i]),{isOpen:m,onClose:f,forceUpdate:c}=l;return r.jsx(on,{value:a,children:r.jsx(un,{value:l,children:r.jsx(vn,{value:t,children:Ce(n,{isOpen:m,onClose:f,forceUpdate:c})})})})};ie.displayName="Menu";var ue=F((e,n)=>{const t=z();return r.jsx(D.span,{ref:n,...e,__css:t.command,className:"chakra-menu__command"})});ue.displayName="MenuCommand";var yn=F((e,n)=>{const{type:t,...s}=e,o=z(),a=s.as||t?t??void 0:"button",i=u.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return r.jsx(D.button,{ref:n,type:a,...s,__css:i})}),ce=e=>{const{className:n,children:t,...s}=e,o=z(),a=u.Children.only(t),i=u.isValidElement(a)?u.cloneElement(a,{focusable:"false","aria-hidden":!0,className:R("chakra-menu__icon",a.props.className)}):null,l=R("chakra-menu__icon-wrapper",n);return r.jsx(D.span,{className:l,...s,__css:o.icon,children:i})};ce.displayName="MenuIcon";var $=F((e,n)=>{const{icon:t,iconSpacing:s="0.75rem",command:o,commandSpacing:a="0.75rem",children:i,...l}=e,m=pn(l,n),c=t||o?r.jsx("span",{style:{pointerEvents:"none",flex:1},children:i}):i;return r.jsxs(yn,{...m,className:R("chakra-menu__menuitem",m.className),children:[t&&r.jsx(ce,{fontSize:"0.8em",marginEnd:s,children:t}),c,o&&r.jsx(ue,{marginStart:a,children:o})]})});$.displayName="MenuItem";var gn={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},bn=D(Ee.div),le=F(function(n,t){var s,o;const{rootProps:a,motionProps:i,...l}=n,{isOpen:m,onTransitionEnd:f,unstable__animationState:c}=B(),d=mn(l,t),C=fn(a),v=z();return r.jsx(D.div,{...C,__css:{zIndex:(o=n.zIndex)!=null?o:(s=v.list)==null?void 0:s.zIndex},children:r.jsx(bn,{variants:gn,initial:!1,animate:m?"enter":"exit",__css:{outline:0,...v.list},...i,className:R("chakra-menu__menu-list",d.className),...d,onUpdate:f,onAnimationComplete:je(c.onComplete,d.onAnimationComplete)})})});le.displayName="MenuList";var Mn=F((e,n)=>{const t=z();return r.jsx(D.button,{ref:n,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...t.button}})}),de=F((e,n)=>{const{children:t,as:s,...o}=e,a=dn(o,n),i=s||Mn;return r.jsx(i,{...a,className:R("chakra-menu__menu-button",e.className),children:r.jsx(D.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});de.displayName="MenuButton";var kn=we({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"});function Cn(e){return r.jsx(N,{variant:"link",...e,children:"Login"})}function te({children:e="Sign up",...n}){return r.jsx(N,{...n,children:e})}function En({isOpen:e,onClose:n,isLoginForm:t,onToggle:s}){return r.jsxs(Ne,{heading:t?"Login":"Sign Up",isOpen:e,onClose:n,children:[t?r.jsx(Be,{}):r.jsx(ze,{onClose:n}),r.jsx(N,{variant:"link",mx:"auto",size:"sm",display:"block",mt:2,onClick:s,children:t?"Not a member?":"Already a member?"})]})}async function jn(){return fetch("https://demo.boardly.nicolldouglas.dev/api/demo",{method:"GET",credentials:"include"})}function me({variant:e,...n}){const t=Ie(),s=_e(),o=Le(),i=Ke(jn,{200:()=>{s({status:"success",title:"Successfully logged in"}),t("/home")},500:()=>o.serverError()});return e==="menu"?r.jsx($,{onClick:i,...n,children:"Try Demo"}):r.jsx(N,{variant:"outline",onClick:i,...n,children:"Try Demo"})}function wn(e){return r.jsxs(ie,{children:[r.jsx(de,{as:De,icon:r.jsx(kn,{}),variant:"ghost",...e}),r.jsxs(le,{children:[r.jsx(me,{variant:"menu"}),r.jsx($,{as:X,to:"/auth/login",children:"Login"}),r.jsx($,{as:X,to:"/auth/register",children:"Sign up"})]})]})}const In="/assets/chatting-dryIb692.svg";function Gn(){const{isOpen:e,onOpen:n,onClose:t}=Ze(),[s,o]=u.useState(null);function a(){o(!0),n()}function i(){o(!1),n()}return r.jsxs(Se,{children:[r.jsxs(Pe,{children:[r.jsx(Fe,{to:"/"}),r.jsx(Qe,{}),r.jsx(me,{display:{base:"none",md:"flex"}}),r.jsx(Cn,{ml:6,"data-cy":"LoginForm-open",onClick:a,display:{base:"none",md:"flex"}}),r.jsx(te,{ml:6,"data-cy":"RegisterForm-open",onClick:i,display:{base:"none",md:"flex"}}),r.jsx(En,{isOpen:e,isLoginForm:s,onClose:t,onToggle:()=>o(!s)}),r.jsx(He,{ml:3}),r.jsx(wn,{display:{base:"flex",md:"none"},ml:1})]}),r.jsx(Y,{flex:1,mt:12,px:4,children:r.jsxs(Oe,{gap:4,maxW:"2xl",as:"main",children:[r.jsx(Te,{as:"h1",size:{base:"2xl",sm:"3xl"},wordBreak:"break-word",children:"Expression, freedom, connection."}),r.jsx(ee,{fontSize:{sm:"lg"},children:"Browse threads, share your thoughts, participate in open dialogue or just come and hang out with like-minded people. Join the messaging board today."}),r.jsxs(Ae,{w:"full",flexDir:{base:"column",sm:"row"},children:[r.jsx(te,{maxW:"fit-content",mt:{base:0,md:4},size:{base:"md",sm:"lg"},onClick:i,children:"Join for free"}),r.jsx(Re,{src:In,w:{base:"300px",md:"380px"},h:{base:"300px",md:"380px"},ml:"auto",mt:-4,mr:{sm:"auto",md:0},alt:"graphic displaying dialogue"})]})]})}),r.jsx(Y,{mb:16,children:r.jsxs(ee,{display:"flex",gap:1,as:"footer",children:["A project by",r.jsx(N,{as:Xe,href:"https://github.com/nicoll-douglas",target:"_blank",variant:"link",children:"Nicoll Douglas"})]})})]})}export{Gn as default};
